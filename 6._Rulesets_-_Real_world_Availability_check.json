[ {
  "defaultTab" : "output",
  "description" : "> Real world examples\n\n**Description:**\nA real world scenario. Run a \"Availability Check\" and parse the output for a response\n\n<br>Could easily be extended or modified\n**Assumptions:**\n\n - RBA with Runner Installed OR Self Hosted (PAOP)\n - Linux/Windows compatible\n\n**Documentation:** [Rulesets](https://docs.rundeck.com/docs/manual/workflow-strategies/ruleset.html#writing-rules)",
  "executionEnabled" : true,
  "group" : "ðŸ‘£ Your First Steps in Automation ðŸ‘£",
  "id" : "1b2751a6-7c97-47a7-ab1e-8abdc2aa325c",
  "loglevel" : "INFO",
  "name" : "6. Rulesets - Real world Availability check",
  "nodeFilterEditable" : false,
  "nodefilters" : {
    "dispatch" : {
      "excludePrecedence" : true,
      "keepgoing" : false,
      "rankOrder" : "ascending",
      "successOnEmptyNodeFilter" : false,
      "threadcount" : "1"
    },
    "filter" : "name: Brighton "
  },
  "nodesSelectedByDefault" : true,
  "options" : [ {
    "description" : "\nSelect the site to check for availability\n\nwww.pagerduty.com will work\nwww.dontwork.com wont \n\n",
    "enforced" : true,
    "label" : "Select Site",
    "name" : "site",
    "required" : true,
    "values" : [ "DontWork", "PagerDuty" ],
    "valuesListDelimiter" : ","
  } ],
  "plugins" : {
    "ExecutionLifecycle" : { }
  },
  "runnerSelector" : {
    "filter" : "WORKSHOP",
    "runnerFilterMode" : "TAGS",
    "runnerFilterType" : "TAG_FILTER_AND"
  },
  "scheduleEnabled" : false,
  "schedules" : [ ],
  "sequence" : {
    "commands" : [ {
      "configuration" : {
        "authentication" : "None",
        "checkResponseCode" : "false",
        "method" : "GET",
        "printResponse" : "false",
        "printResponseCode" : "true",
        "printResponseToFile" : "false",
        "proxySettings" : "false",
        "remoteUrl" : "https://www.pagerduty.com",
        "sslVerify" : "true",
        "timeout" : "30000"
      },
      "description" : "Test Site 1 (Could be a single step with Parameters)",
      "nodeStep" : false,
      "plugins" : {
        "LogFilter" : [ {
          "config" : {
            "captureMultipleKeysValues" : "true",
            "hideOutput" : "false",
            "logData" : "true",
            "name" : "output",
            "regex" : "(.*)"
          },
          "type" : "key-value-data-multilines"
        } ]
      },
      "type" : "edu.ohio.ais.rundeck.HttpWorkflowStepPlugin"
    }, {
      "configuration" : {
        "authentication" : "None",
        "checkResponseCode" : "false",
        "method" : "GET",
        "printResponse" : "false",
        "printResponseCode" : "true",
        "printResponseToFile" : "false",
        "proxySettings" : "false",
        "remoteUrl" : "https://www.doesnotwork.com",
        "sslVerify" : "true",
        "timeout" : "30000"
      },
      "description" : "Test Site 2 (Could be a single step with Parameters)",
      "nodeStep" : false,
      "plugins" : {
        "LogFilter" : [ {
          "config" : {
            "captureMultipleKeysValues" : "true",
            "hideOutput" : "false",
            "logData" : "true",
            "name" : "output",
            "regex" : "(.*)"
          },
          "type" : "key-value-data-multilines"
        } ]
      },
      "type" : "edu.ohio.ais.rundeck.HttpWorkflowStepPlugin"
    }, {
      "description" : "Run Happy Path",
      "exec" : "echo \"Run Happy Path...\""
    }, {
      "description" : "Run Failure Path",
      "exec" : "echo \"Run Failure Path...\""
    } ],
    "keepgoing" : false,
    "pluginConfig" : {
      "LogFilter" : [ {
        "config" : {
          "loglevel" : "verbose",
          "matchLoglevel" : "warn",
          "quietMatch" : "true",
          "regex" : "^\\[wf.*"
        },
        "type" : "quiet-output"
      } ],
      "WorkflowStrategy" : {
        "ruleset" : {
          "rules" : "# Autogenerated Directives\n[1,2] run-at-start\n[3,4] run-after:1,2\n# Autogenerated Conditions\n[1] if:option.site==PagerDuty\n[2] if:option.site==Dontwork\n[3] if:data.output==Dontwork\n[4] if:data.output==Dontwork\n"
        }
      }
    },
    "strategy" : "ruleset"
  },
  "tags" : "ruleset",
  "user" : "justyn",
  "uuid" : "1b2751a6-7c97-47a7-ab1e-8abdc2aa325c"
} ]